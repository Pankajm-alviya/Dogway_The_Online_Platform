<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DogWay Online Project</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

</head>

<body>

  <head>
    <%- include('../partials/head'); %>
  </head>
  <%if(loginStatus){%>
    <%=console.log(loginStatus)%>
      <header style="position: sticky; z-index:10;top: 0;">
        <%- include('../partials/Header'); %>
      </header>
      <%}else{%>
        <header style="position: sticky; z-index:10;top: 0;">
          <%- include('../partials/withoutLoginHeader'); %>
        </header>
        <%}%>
          <%if(!msg){%>
            <section class="testimonial py-5" id="testimonial">
              <div class="container" style="width:60%;padding-top: 7rem;">
                <div class="row">
                  <div class="col-md-5 py-5  text-white text-center " style="background: green;">
                    <div class=" ">
                      <div class="card-body"><br><br>
                        <img
                          src="https://www.nzherald.co.nz/resizer/j_iEeL11XI833M6hpclryvx12QQ=/576x613/smart/filters:quality(70)/cloudfront-ap-southeast-2.images.arcpublishing.com/nzme/TQMI5HKAUGRV54H7QCD3H4B7GI.jpg"
                          style="width:30%"><br><br>
                        <h2 class="py-3">Fill some details for Meet</h2><br>
                        <p>a male dog will often start by sniffing at the female's rear end, smelling the pheromones
                          that
                          indicate
                          she's fertile.

                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-7 py-5 border">
                    <h4 class="pb-4">Schedule Meet</h4>
                    <form action="/adddogmating" method="post" onsubmit="return validateFormServies()">
                      <div class="form-row">
                        <div class="form-group col-md-12">
                          <!-- <label for="">Select Mating Date</label> -->
                          <input id="matingDate" name="matingDate" class="form-control" type="date"><br>
                          <!-- <input id="matingDate" name="matingDate" class="form-control" type="date"><br> -->
                        </div>
                      </div>
                      <!-- <div class="form-group col-md-12">
                <input type="time" name="matingtime" class="form-control" id="inputEmail4" placeholder="time"><br>
              </div> -->
                      <div class="form-group col-md-12">
                        <!-- <label for="">Enter Address</label> -->
                        <input type="text" name="address" class="form-control" id="inputEmail4"
                          placeholder="Enter Address" onkeyup="return Address()">
                        <p id="address"></p>
                      </div>
                      <div class="form-group col-md-12">
                        <input type="hidden" id="typeEmail" name="matingdog_id" value="<%=matingdogDealer[0]._id%>"
                          class="form-control my-3" />
                      </div>
                      <div class="form-group col-md-12">
                        <input type="hidden" id="typeEmail" name="dealerdogBreed"
                          value="<%=matingdogDealer[0].dogBreed%>" class="form-control my-3" />
                      </div>
                      <div class="form-group col-md-12">
                        <input type="hidden" id="typeEmail" name="dealerdogGender"
                          value="<%=matingdogDealer[0].gender%>" class="form-control my-3" />
                      </div>
                      <div class="form-group col-md-12">
                        <input type="hidden" id="typeEmail" name="customerEmail_id" value="<%=data%>"
                          class="form-control my-3" />
                      </div>
                      <div class="form-group col-md-12">
                        <input type="hidden" id="typeEmail" name="price"
                          value="<%=matingdogDealer[0].price%>" class="form-control my-3" />
                      </div>

                      <div class="form-group col-md-12">
                        <!-- <input type="text" name="vaccination" class="form-control" id="inputEmail4" placeholder="Vaccination"><br> -->
                        <!-- <label for="">Select Vaccination or Not</label> -->
                        <select name="vaccination" id="vaccination" class="form-control">
                          <!-- <option value="Yes">Select Vaccination or Not</option> -->
                          <option value="Yes">Yes</option>
                          <option value="No">No</option>
                        </select>
                      </div><br>
                      <div class="from-group col-md-12">
                        <!-- <label for="" >Select Breed</label> -->
                        <select name="CustomerdogBreed" id="Breed" class="form-control"
                          style="width: 32rem;height: 2.5rem;border-radius:0.3rem;background-color: white;"
                          class="form-control">
                          <option value="Germen Shepherd">Germen Shepherd</option>
                          <option value="pug">pug</option>
                          <option value="Boxer">Boxer</option>
                          <option value="Miltese">Miltese</option>
                          <option value="Akita">Akita</option>
                          <option value="Beagle">Beagle</option>
                          <option value="Golden Retriever">Golden Retriever</option>

                        </select>
                      </div><br>

                      <div class="from-group col-md-12">
                        <!-- <label for="">Your Dog Behaviour</label>   -->
                        <textarea name="dogBehaviour" id="description" cols="43" rows="3" placeholder="Dog Behaviour"
                          class="form-control" onkeyup="return description()"></textarea>
                        <p id="desc"></p>
                      </div><br>
                      <label for="Gender">Gender</label><br>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" value="Male" name="CustomerDogGender" id="Male">
                        <label class="form-check-label" for="Male">
                          Male
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" value="Female" name="CustomerDogGender"
                          id="Female">
                        <label class="form-check-label" for="Female">
                          Female
                        </label>
                      </div><br>

                      <input type="hidden" name="amount" value="<%=matingdogDealer[0].price%>">
                      <input type="hidden" name="productName" value="Shocks">
                      <script
                          src="//checkout.stripe.com/v2/checkout.js"
                          class="stripe-button"
                          data-key="pk_test_51O7qF0SJUnxcOIoS0sB7ANA2hIetDRhpRNTB4adPmYuOBzByrlhxBJaD9v5FFrUAlh9btXzUBeju1uuUHqZmbGgG00rLZ3hiG2"
                          data-amount="<%=matingdogDealer[0].price%>"
                          data-currency="INR"
                          data-name="Bill Payment"
                          data-description="Bill Payments"
                          data-locale="auto" >
                          </script>
                    </form>
                  </div>
                </div>
              </div>
            </section>
            <%}else{%>
              <div class="row" style="margin-top: 3rem;display: flex; justify-content: center;align-items: center;">
                <img class="col-6" src="/images/noResultFound.gif" alt="" style="width:300px;height: 300px;">
                <div class="col-6" style="width:300px">
                  <h3 class="text-danger">Sorry!</h1>
                    <p class="text-primary">
                      <%=msg%>
                    </p>
                </div>
              </div>
              <%}%>
                <script>

                  var today = new Date().toISOString().split('T')[0];
                  var matingDateInput = document.getElementById("matingDate");

                  matingDateInput.addEventListener("input", function () {
                    if (matingDateInput.value < today) {
                      alert("Please select a date that is today or a future date.");
                      matingDateInput.value = today;
                    }
                  });
                  function Address() {
                    var name = document.getElementById("inputEmail4");

                    if (name.value.trim() === "") {
                      document.getElementById("address").style.color = "red";
                      document.getElementById("address").innerHTML = "Address Required";
                      return false;
                    } else {
                      var reg = /^[A-Za-z\s]+$/;
                      if (reg.test(name.value)) {
                        document.getElementById('address').style.color = "green";
                        document.getElementById("address").innerHTML = "";
                        return true;
                      } else {
                        document.getElementById('address').style.color = "red";
                        document.getElementById("address").innerHTML = "Invalid Address";
                        return false;
                      }
                    }
                  }
                  function description() {
                    var name = document.getElementById("description");

                    if (name.value.trim() === "") {
                      document.getElementById("desc").style.color = "red";
                      document.getElementById("desc").innerHTML = "description Required";
                      return false;
                    } else {
                      var reg = /^[A-Za-z\s]+$/;
                      if (reg.test(name.value)) {
                        document.getElementById('desc').style.color = "green";
                        document.getElementById("desc").innerHTML = "";
                        return true;
                      } else {
                        document.getElementById('desc').style.color = "red";
                        document.getElementById("desc").innerHTML = "Invalid description";
                        return false;
                      }
                    }
                  }

                  function validateFormServies() {
                    var Address = Address();
                    var description = description()
                    return Address;
                  }
                </script>

</body>

</html>